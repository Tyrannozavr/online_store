тестовое задание
Разработка биллинга для интернет-магазина


Интернет-магазин продает товары и ему требуется система для учета продаж. Каждый товар имеет имя, описание, цену
и относится к некоторой категории товаров. Товары приобретают покупатели, уже зарегистрированные в системе, для
каждого покупателя хранится его имя и email.
Для увеличения продаж магазин пользуется скидочными акциями. Скидка может распространяться как на отдельный товар,
так и на всю категорию товара. Каждая скидочная акция имеет имя и процент, на который уменьшается цена товара.
При каждой покупке важно знать, по какой скидочной акции он был куплен.


Задача:
* Разработать схему базы данных, реализовать в виде Django-моделей.
* Реализовать создание CSV отчета, который показывает какие покупки были совершены за день:
   1. Время покупки
   2. Товар
   3. Цена
   4. Скидка (если была)
   5. Процент скидки (если была скидка)
* Реализовать создание CSV отчета, который показывает эффективность скидочных акций для категорий
   1. Скидочная акция
   2. Категория
   3. Среднее число продаваемых товаров в день со скидкой
   4. Среднее число продаваемых товаров в день без скидки
* Реализовать создание CSV отчета, который показывает эффективность скидочных акций :
   1. Скидочная акция
   2. Товар
   3. Среднее число продаваемых товаров в день со скидкой
   4. Среднее число продаваемых товаров в день без скидки


Упрощения: 
1. Считаем, что у магазина есть безграничное количество экземпляров каждого из товаров. Т. е. товары можно продавать
по многу раз.
2. Не фиксируем дату начала и окончания скидки, считаем, что все скидки в базе - активны.


Если есть желание задачу усложнить, то вместо отчетов можно реализовать полноценное REST API.


В этом проекту я создал систему добавления скидкок и просмотра отчетов доступную только для пользователей со статусом is_staff.
Они могут быть
добавлены через админку сайта (host/admin с логином dmiv и паролем 123456 или запусти ./manage.py createsuperuser
и создай  его.
Для корректной работы системы база данный должна содержать скидку с именем default и значением 0,
которая соответствует покупке без скидки.